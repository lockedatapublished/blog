<!DOCTYPE html>
<html lang="en-gb">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.25.1" />
    <title>Best Practices</title>
    
    
    
    <meta name="description" content="A description that will appear as a default if front matter does not exist" />
    <meta name="keywords" content='default,keywords,if,no,front,matter' />
    
    
    <link href="http://lockelife.com/blog/tags/best-practices/index.xml" rel="alternate" type="application/rss+xml" title="Locke Data Blog" />
    <link rel="stylesheet" href="http://lockelife.com/blog/css/bootstrap.min.css" />
    <link rel="stylesheet" href="http://lockelife.com/blog/css/highlightjs-themes/androidstudio.css" />
    <link rel="stylesheet" href="http://lockelife.com/blog/css/font-awesome.min.css" />
    <link rel="stylesheet" href="http://lockelife.com/blog/css/lockedata.css" />
    
        
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({
                    google_ad_client: "ca-pub-XXXXXX",
                    enable_page_level_ads: true
                });
            </script>
        
    
</head>

    <body>
        <!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">

    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand page-scroll" href="/blog/#page-top">
          
          <img src="http://lockelife.com/blog/img/LockeDataTextNew.svg" class="img-responsive" alt="">
        </a>
      

    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li class="hidden">
          <a href="/blog/#page-top"></a>
        </li>
        
          <li>
            <a href="http://lockelife.com">Locke Data</a>
          </li>
        
          <li>
            <a href="/blog/blog/">Blog</a>
          </li>
        

        
        
      </ul>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container-fluid -->
</nav>

        <div id="top" class="container">
            <div class="row" id="content-main">
   <div class="col-md-4">                    
	
<div class="row">
    <div class="col-md-11 card">
        <h5>Locke Data Blog</h5>
        <p>A description that will appear as a default if front matter does not exist</p>
		<img class="avatar" src=http://lockelife.com/blog/img/ChibiSteph.svg></img>
    </div>
</div>

    <div class="row">
    <div class="col-md-11 card">
        <h5>Search</h5>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
            <div class="input-group">
                <input class="form-control" type="search" name="q" />
                <span class="input-group-btn">
                    <button class="btn btn-primary" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </div>
            <input type="hidden" name="q" value="site:http://lockelife.com/blog/">
        </form>
    </div>
</div>

    
    
        <div class="row">
            <div class="col-md-11  card">
                <h5>categories</h5>
                <ul class="list-unstyled posts-recent">
                    
                        <li><a href="http://lockelife.com/blog/categories/r">r</a></li>
                    
                        <li><a href="http://lockelife.com/blog/categories/community">community</a></li>
                    
                        <li><a href="http://lockelife.com/blog/categories/microsoft-data-platform">microsoft-data-platform</a></li>
                    
                        <li><a href="http://lockelife.com/blog/categories/data-science">data-science</a></li>
                    
                        <li><a href="http://lockelife.com/blog/categories/misc-technology">misc-technology</a></li>
                    
                </ul>
            </div>
        </div>
    

    

    


</div>
                <div class="col-md-8">
                    
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://lockelife.com/blog/shiny-module-design-patterns-pass-a-single-input-to-multiple-modules/">Shiny module design patterns: Pass a single input to multiple modules</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>April 8, 2016</li>
                                    <li><i class="fa fa-user"></i>Steph</li>
                                </ul>
                                <p>For the awesome <a href="https://www.eventbrite.com/e/shiny-developer-conference-registration-19153967031">Shiny Developers Conference</a> back in January, I endeavoured to learn about shiny modules and <a href="https://itsalocke.com/declutter-a-shiny-reports-code-v2-0/">overhaul an application</a> using them in the space of two days. I succeeded and almost immediately switched onto other projects, thereby losing most of the hard-won knowledge! As I rediscover shiny modules and start putting them into more active use, I&#8217;ll be blogging about design patterns. This post takes you through the case of multiple modules receiving the same input value.</p>

<h2 id="tl-dr">TL;DR</h2>

<p>Stick overall config input objects at the app level and pass them in a reactive expression to <code>callModule()</code>. Pass the results in as an extra argument into subsequent modules. These are reactive so don&#8217;t forget the brackets. <a href="https://github.com/stephlocke/shinymodulesdesignpatterns">Steal the code</a> and, as always, if you can improve it do so!</p>

<p></p>
                                <a class="btn btn-primary" href="http://lockelife.com/blog/shiny-module-design-patterns-pass-a-single-input-to-multiple-modules/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://lockelife.com/blog/auto-deploying-documentation-better-change-tracking-of-artefacts/">Auto-deploying documentation: better change tracking of artefacts</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>April 4, 2016</li>
                                    <li><i class="fa fa-user"></i>Steph</li>
                                </ul>
                                <p>As part of my never-ending quest to deploy documentation better, I&#8217;ve made yet another tweak to my scripts that deploy R vignettes or Rmarkdown documents to the <code>gh-pages</code> branch of my github repositories via Travis-CI.</p>

<p>The script from <a href="http://rmflight.github.io/posts/2014/11/travis_ci_gh_pages.html">Robert Flight</a> that&#8217;s provided the basis for most of this work does something specific to update the web facing branch of the repository. It would:</p>

<ol>
<li><p>Create a blank repository</p></li>

<li><p>Add the requisite files to the repository</p></li>

<li><p>Add and commit them to the repo</p></li>

<li><p>Force the repo to overwrite the <code>gh-pages</code> branch</p></li>
</ol>

<p>This had the unfortunate consequence of losing the history of what was previously hosted on the branch and could not tell me what commit to my development branches was responsible for a version of the docs. It took a little bit of playing but the revised script now:</p>

<ol>
<li><p>Clones the gh-pages branch</p></li>

<li><p>Adds the requisite files into the reports</p></li>

<li><p>Add and commit them to the repo</p></li>

<li><p>Push the changes</p></li>
</ol>

<p>Using an environment variable ($TRAVIS_COMMIT) the commit message is the commit ID for the latest commit in the build that occurs on Travis, making it very easy to see what changes triggered a documentation update.</p>

<p></p>
                                <a class="btn btn-primary" href="http://lockelife.com/blog/auto-deploying-documentation-better-change-tracking-of-artefacts/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://lockelife.com/blog/mockaroo--making-realistic-test-data-in-r/">mockaRoo – making realistic test data in R</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>March 8, 2016</li>
                                    <li><i class="fa fa-user"></i>Steph</li>
                                </ul>
                                <p>When I&#8217;m building stuff in R like packages, models, etc. I find myself wishing for realistic looking test data without having to resort to getting data off my production server. To that end I&#8217;ve been on the hunt for a way of generating decent test data. A few months back I stumbled upon the neat system <a href="https://www.mockaroo.com/">Mockaroo</a> which provides a GUI to build some data that suits your needs.</p>

<p>Mockaroo is a really impressive service with a wide spread of different data types. They also have simple ways of adding things like within group differences to data so that you can mock realistic class differences. They use the freemium model so you can get a thousand rows per download, which is pretty sweet. The big BUT you can feel coming on is this &#8211; it&#8217;s a GUI! I don&#8217;t want to have spend time hand cranking a data extract.</p>

<p>Thankfully, they have a GUI for getting data too and it&#8217;s pretty simply to use so I&#8217;ve started making a package for it.</p>

<p>I&#8217;ve started the package on <a href="https://github.com/stephlocke/mockaRoo">github</a> and will be developing it over the next month or two. It&#8217;s up and working, but only in the most primitive way as I&#8217;d like to get some feedback from folks who might find this useful around how the interface for generating your desired data schema should work.</p>

<p></p>
                                <a class="btn btn-primary" href="http://lockelife.com/blog/mockaroo--making-realistic-test-data-in-r/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://lockelife.com/blog/auto-deploying-documentation-rtraining/">Auto-deploying documentation: Rtraining</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>December 23, 2015</li>
                                    <li><i class="fa fa-user"></i>Steph</li>
                                </ul>
                                In my last post on using GitHub, Travis-CI, and rmarkdown/knitr for automatically building and deploying documentation, I covered how I was able to do it with a containerised approach so things were faster. I also said my Rtraining repository was still too brittle to blog about. This has changed &#8211; WOO HOO!
The main thanks for that goes out to the new package ezknitr from Dean Attali. ezknitr takes the pain out of working directories, making my hierarchies much more resilient.
                                <a class="btn btn-primary" href="http://lockelife.com/blog/auto-deploying-documentation-rtraining/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://lockelife.com/blog/auto-deploying-documentation-faster/">Auto-deploying documentation: FASTER!</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>November 13, 2015</li>
                                    <li><i class="fa fa-user"></i>Steph</li>
                                </ul>
                                <p>Over the past few years I&#8217;ve been delving deeper into automatically building and deploying documentation and reporting in R (with rmarkdown, LaTeX etc). This post covers another step forward on that journey towards awesomeness.</p>

<p></p>
                                <a class="btn btn-primary" href="http://lockelife.com/blog/auto-deploying-documentation-faster/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://lockelife.com/blog/dataops--its-a-thing-honest/">DataOps – it’s a thing (honest)</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>October 16, 2015</li>
                                    <li><i class="fa fa-user"></i>Steph</li>
                                </ul>
                                <p>Today, I presented a <a href="https://1drv.ms/p/s!AiZm2P6YHtSfjye0xDn_fuL80eSp">lightning talk on DataOps</a> at <a href="http://sqlinthecity.red-gate.com/london-2015/">SQL in the City</a>. It was a fantastic day and a great opportunity to catch up with how the database side of things is evolving to embrace <a href="https://en.wikipedia.org/wiki/DevOps">DevOps</a>.</p>

<p>My lightning talk was titled <em>DataOps &#8211; it&#8217;s a thing (honest)</em> and focused on what is essentially DevOps ported out of the developer sphere and into the data professional sphere.</p>

<p></p>
                                <a class="btn btn-primary" href="http://lockelife.com/blog/dataops--its-a-thing-honest/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://lockelife.com/blog/auto-deploying-documentation-multiple-r-vignettes/">Auto-deploying documentation: multiple R vignettes</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>June 5, 2015</li>
                                    <li><i class="fa fa-user"></i>Steph</li>
                                </ul>
                                <p>Following on from my post about the principles behind using travis-ci to commit to a <code>gh-pages</code> I wanted to follow-up with how I tackled my &#8220;intermediate&#8221; use case.</p>

<hr />

<h3 id="posts-in-this-series">Posts in this series</h3>

<ol>
<li><a href="https://itsalocke.com/automated-documentation-hosting-on-github-via-travis-ci/">Automated documentation hosting on github via Travis-CI</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-multiple-r-vignettes/">Auto-deploying documentation: multiple R vignettes</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-faster/">Auto-deploying documentation: FASTER!</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-rtraining/">Auto-deploying documentation: Rtraining</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-better-change-tracking-artefacts/">Auto-deploying documentation: better change tracking of artefacts</a></li>
</ol>

<hr />

<h2 id="multiple-vignettes">Multiple vignettes</h2>

<p>In <a href="https://itsalocke.com/automated-documentation-hosting-on-github-via-travis-ci/">my original post</a> I show how I pushed the tfsR vignette to <code>gh-pages</code>, which involved copying it and renaming it to index.html.</p>

<p>Unfortunately, this wouldn&#8217;t work if I had multiple vignettes that I wanted to be accessible online.</p>

<h3 id="requirements">Requirements</h3>

<ul>
<li>An index.html file</li>

<li><p>A way of extracting any number of html files from the vignette folder</p>

<p></p>
                                <a class="btn btn-primary" href="http://lockelife.com/blog/auto-deploying-documentation-multiple-r-vignettes/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://lockelife.com/blog/automated-documentation-hosting-on-github-via-travis-ci/">Automated documentation hosting on github via Travis-CI</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>June 1, 2015</li>
                                    <li><i class="fa fa-user"></i>Steph</li>
                                </ul>
                                <p>In this post, I&#8217;m going to cover how you can use continuous integration and source control to build and host documentation (or any other static HTML) for free, and in a way that updates every time your code changes. I&#8217;ll cover the generic capability, and then how I apply this to my simplest package, tfsR. In a later post (once I&#8217;ve cracked the best method to do it) I&#8217;ll cover my more complex use case of multiple documents and a dynamically constructed index page.</p>

<p>NB: This is kicked off from a <a href="http://rmflight.github.io/posts/2014/11/travis_ci_gh_pages.html">post</a> from Robert Flight about applying to the technique to R package vignettes. It&#8217;s a very useful post but it was quite specific to his situation and I wanted to understand the principles behind it before I started extending it to my more complex cases.</p>

<hr />

<h3 id="posts-in-this-series">Posts in this series</h3>

<ol>
<li><a href="https://itsalocke.com/automated-documentation-hosting-on-github-via-travis-ci/">Automated documentation hosting on github via Travis-CI</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-multiple-r-vignettes/">Auto-deploying documentation: multiple R vignettes</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-faster/">Auto-deploying documentation: FASTER!</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-rtraining/">Auto-deploying documentation: Rtraining</a></li>
<li><a href="https://itsalocke.com/auto-deploying-documentation-better-change-tracking-artefacts/">Auto-deploying documentation: better change tracking of artefacts</a></li>
</ol>

<hr />

<h2 id="requirements">Requirements</h2>

<ul>
<li>Must haves:

<ul>
<li>Travis-CI</li>
<li>GitHub</li>
</ul></li>
<li>Optional:

<ul>
<li>A linux machine (so you can test your bash script that Travis-CI will run)</li>
<li>R (for following the specific instructions)</li>
</ul></li>
</ul>

<h2 id="high-level-process">High-level process</h2>

<ul>
<li>Get an OAUTH token from github</li>
<li>Add OAUTH token to travis</li>
<li>Add a *.sh file that gets your HTML (depending on circumstance, you may also need to generate it) and pushes to gh-pages branch</li>
<li>Include your .sh file in the <code>after_success</code> part of your travis file</li>

<li><p>Commit &amp; push!</p>

<p></p>
                                <a class="btn btn-primary" href="http://lockelife.com/blog/automated-documentation-hosting-on-github-via-travis-ci/" role="button">Read More</a>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-12 content-card">
                                <h1><a href="http://lockelife.com/blog/database-/-bi-related-unit-testing-options/">Database / BI related unit testing options</a></h1>
                                <ul class="list-inline">
                                    <li><i class="fa fa-calendar"></i>November 6, 2014</li>
                                    <li><i class="fa fa-user"></i>Steph</li>
                                </ul>
                                A quick list of frameworks available for doing unit testing, based on what I covered in today&#8217;s SQL Lunch
MSFT Database projects Purpose: unit testing database objects
Method: SQL / GUI
Site: http://msdn.microsoft.com/en-us/library/jj851200(v=vs.103).aspx
Cost: Free
Pros: Built-in, quite well documented
Cons: Requires Visual Studio 2010 Pro or above
Codeplex ssisUnit Purpose: SSIS unit testing
Method: XML / GUI
Site: https://ssisunit.codeplex.com
Cost: Free
Pros: Unique
Cons: As of writing, only stable version was released in 2008
                                <a class="btn btn-primary" href="http://lockelife.com/blog/database-/-bi-related-unit-testing-options/" role="button">Read More</a>
                            </div>
                        </div>
                    
                    
    <div class="row">
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-4" style="text-align: left; padding-left: 0px">
                    
                        <a class="btn btn-default" href="/blog/tags/best-practices/" role="button" style="border-radius: 0px; display: block">Newer</a>
                    
                </div>
                <div class="col-md-4 col-md-offset-4" style="text-align: right; padding-right: 0px">
                    
                </div>
            </div>
        </div>
    </div>


                </div>
            </div>
        </div>
        <!-- Footer section -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <span class="copyright">
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
        </span>
      </div>
      <div class="col-md-4">
        <ul class="list-inline social-buttons">
          
            <li>
              <a href="/blog/#"><i class='fa fa-twitter'></i></a>
            </li>
          
            <li>
              <a href="/blog/#"><i class='fa fa-facebook'></i></a>
            </li>
          
            <li>
              <a href="/blog/#"><i class='fa fa-linkedin'></i></a>
            </li>
          
        </ul>
      </div>
      <div class="col-md-4">
        <ul class="list-inline quicklinks">
          
            <li>
              <a href="http://lockelife.com/#company">Legalise and stuff</a>
            </li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>

        <div id="back-to-top" class="hidden">
    <a href="#top" class="well well-sm" onclick="$('html,body').animate({scrollTop:0},'slow');return false;">
        <i class="glyphicon glyphicon-chevron-up"></i> Back to Top
    </a>
</div>
<script src="http://lockelife.com/blog/js/jquery.min.js"></script>
<script src="http://lockelife.com/blog/js/bootstrap.min.js"></script>
<script src="http://lockelife.com/blog/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
    if(($(window).height() + 100) < $(document).height()) {
        $('#back-to-top').removeClass('hidden').affix({
            offset: {
                top: 100
            }
        });
    }
</script>

    
        <script>
            
            [].forEach.call(document.querySelectorAll('.adsbygoogle'), function() {
                (adsbygoogle = window.adsbygoogle || []).push({});
            });
        </script>
    


    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-XXXXX-YY', 'auto');
        ga('send', 'pageview');
    </script>




    </body>
</html>
